<!doctype html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <link rel="author" href="https://glyphsapp.com/learn/creating-a-variable-font" />
  <title>バリアブルフォントの作成 | Glyphs</title>
</head>
<body>

<h1 class="TitleBoard-heading">バリアブルフォントの作成</h1>

<div class="AuthorBoard AuthorBoard--article">
  <div class="AuthorBoard-inner">
    <div class="AuthorBoard-heading">by Rainer Erich Scheichelbauer</div>
    <div class="AuthorBoard-languages">
      <a  class="Button Button--language Button--tiny is-active" data-button href="https://glyphsapp.com/learn/creating-a-variable-font" aria-label="English"><span class="Button-text">en</span></a>
      <a  class="Button Button--language Button--tiny" data-button href="https://glyphsapp.com/es/learn/creating-a-variable-font" aria-label="Spanish"><span class="Button-text">es</span></a>
      <a  class="Button Button--language Button--tiny" data-button href="https://glyphsapp.com/fr/learn/creating-a-variable-font" aria-label="French"><span class="Button-text">fr</span></a>
      <a  class="Button Button--language Button--tiny" data-button href="https://glyphsapp.com/zh/learn/creating-a-variable-font" aria-label="Chinese"><span class="Button-text">zh</span></a>
    </div>
    <div class="AuthorBoard-content"><p><span>12 November 2020&nbsp;</span><span>Published on 8 March 2018</p></div>
  </div>
</div>

<div class="Article-introductionInner">
  <p>バリアブルフォントは今までにない可能性の世界を開きます。Glyphsなら簡単に作成できます。</p>
</div>

<div class="Article-contentInner">
<h2 id="what-are-variable-fonts">バリアブルフォントとは？</h2>
<p>もし<a href="https://medium.com/@tiro/https-medium-com-tiro-introducing-opentype-variable-fonts-12ba6cd2369">John Hudsonによる素晴らしい紹介記事</a>を読んだことがなければ、今すぐその手を止めて、読みに行ってください。いや、本当に。</p>

<h2 id="step-1-define-axes"><span class="Small">Step 1</span> 軸の定義</h2>
<p>「ファイル」＞「フォント情報」＞「フォント」＞「補完デザイン軸」で、＋アイコンを押下して軸を追加します。</p>
<figure><img alt="Adding an axis" src="https://glyphsapp.com/media/pages/learn/creating-a-variable-font/0af68ab5db-1605628247/axes-plus.png"><figcaption>「ファイル」＞「フォント情報」を選択し、「フォント」タブで「補完デザイン軸」の横にある＋アイコンをクリックすると、デザイン軸が新たに追加されます。</figcaption></figure>
<p>「値」フィールドをダブルクリックします。そこで現れたダイアログで、歯車アイコンをクリックして軸の追加や削除をします。定義済みの軸（「ウェイト」、「幅」、「イタリック」、「スラント」、「オプティカルサイズ」）のどれかを選択するか、または独自設定の軸を作成します。</p>

<aside class="ProTip"><div class="ProTip-inner">
<h3 class="ProTip-title">Pro Tip</h3>
<div class="ProTip-content"><p>独自の「プライベート」軸を作成する場合、4文字のタグを選択する必要があります。標準アップデートの更新と衝突する可能性を避けるために、プライベートタグは「全て大文字」にしておくことを推奨します。例えば、「スマイル」なら <code>SMIL</code> とか「ローテーション」なら <code>ROTN</code> などです。全て大文字のタグは私的利用向けに公式に予約されているからです。定義済みの軸は必ず小文字です。</p></div>
</div></aside>

<p>補完デザイン軸はいつでも再定義が可能で、現在の実装では軸は6個まで定義できます。この解説では、<code>wght</code> というタグを持つ「ウェイト」軸を例に取ります。</p>
<figure><img alt="" src="https://glyphsapp.com/media/pages/learn/creating-a-variable-font/6d219e9593-1605628247/axes-definition.png"></figure>
<p>ダイアログシート左下の歯車アイコンから軸を管理できます。</p>

<h2 id="step-2-set-up-masters"><span class="Small">Step 2</span> マスターの設定</h2>
<p>「ファイル」＞「フォント情報」＞「マスター」から、<a href="/tutorials/multiple-masters-part-1-setting-up-masters">マルチプルマスターのプロジェクトを作成するとき</a>と同じように、ウィンドウの左下の隅にある＋アイコンを押下してマスターを追加します。今の例では、「Light」と「Bold」の、2つのマスターを追加します。</p>
<p>それぞれのマスターで、次のように設定してください。</p>
<figure class="large"><img alt="" src="https://glyphsapp.com/media/pages/learn/creating-a-variable-font/57202a21fe-1605628248/fontinfomasters.png"></figure>
<ol>
<li>それぞれのマスターに適した<strong>マスター名</strong>をつけましょう。今の例では、「Light」と「Bold」が良さげだと思います。これらのマスター名は最終的なフォントファイルには出力されません。マスター名はGlyphsで作業する際に自分の方針を決めるために重要です。</li>
<li>一番重要なのは、各マスターの<strong>補完軸上の座標</strong>を設定することです。この例では、例えばLightマスターで50、Boldマスターで200というように、「ウェイト」の値を設定します。デザイナーの多くはウエイト軸の値にステムの太さを使用したいと考えるでしょうが、値に「明確な差」がある限り、どんな値でも入力してよくて、Glyphsは中間のインスタンスを計算できます。この例なら、50から200の間の値、例えば75、120、182などでインスタンスの計算ができます。</li>
<li>オプションとして、ウィンドウ右上のポップアップから<strong>マスターアイコン</strong>を選択します。小文字の n で表されたウェイト×幅の総当たりの組合せの中から選べます。下の部分にグリフ名を入力すると、Glyphsはそれぞれそのグリフの画像をマスターアイコンに使用します。もう一度いいますが、これはあくまで自分にとっての指針となるだけなので、自分が納得できるものを選んでください。</li>
</ol>
<p>もちろん、ウィンドウをもう少し下にスクロールすると、ゾーン、ステム、カスタムパラメータといった、さらにその他の設定欄があります。自分のデザインに合った値を設定してください。ただし入力した値は「互換性がある」ようにしてください。つまり、あるマスターにある値を追加したら、他の全てのマスターにも対応する値を追加しなければなりません。例えば、あるマスターに標準ステムの設定がある場合、他のマスターにも同じ「数と順序」のステムの設定がなければなりません。</p>
<blockquote>
<p><strong>補完軸上の座標についてベータ版ノート：</strong> Technically, each axis has a definition of a scale with specific semantics. E.g. the <em>Weight</em> scale must be compatible with <code>usWeightClass</code> to work with CSS and allow switching between fonts while keeping the same relative style. Thus, 400 must be the Regular, and 700 must be the Bold, etc. The <em>Width</em> class must have 100 as the coordinate for the normal width, and the numbers for other masters must be the relative percentage of width vs the normal width, usually 75 for a Condensed, or 125 for an Extended.</p>
<p>Achieving this is a little tricky for the Weight axis in the current implementation. You may either use the spec-defined ranges instead of the stem width, or add <em>Axis Location</em> parameters (see below) to remap the masters. Both options have the downside that the predefined weights between your masters are unlikely to distribute as evenly as <code>usWeightClass</code> assumes. In other words, if you have a Regular master at 400 and an Extrabold master at 800, you are more likely to win the lottery than to have the luck that your Medium instance happens to fit perfectly on 500, the Semibold instance on 600, and the Bold instance at 700.</p>
<p>You could theoretically circumvent this by inserting your instances as masters. This is possible by going to <em>File &gt; Font Info &gt; Instances,</em> selecting one instance after another, and choosing <em>Instance as Master</em> from the Plus button in the bottom left corner of the window, and subsequently switching to the <em>Masters</em> tab of the same window, and resetting their <em>Weight</em> coordinates to <code>usWeightClass</code> numbers. Back in the <em>Instances</em> tab, you can then delete and reinsert the instances with the <em>Add Instance for each Master</em> option, again from that little Plus button.</p>
<p>For now, we recommend to do this only for a seriously shipping font, and not care too much about it while you are experimenting for yourself or for a specific implementation.</p>
</blockquote>

<h2 id="step-3-draw-compatible-glyphs"><span class="Small">Step 3</span> Draw Compatible Glyphs</h2>
<p>To keep it short and simple, we will stick to an uppercase A for this tutorial. I draw the light A with a stemwidth of approximately 50 units, and the bold A with a stem 200 units wide:</p>
<figure><img alt="" height="300px" src="https://glyphsapp.com/media/pages/learn/creating-a-variable-font/66d04fb9c0-1605628247/a_lightmaster.png"></figure>
<p>Most importantly, keep all your outlines, components and anchors compatible, <a href="/tutorials/multiple-masters-part-2-keeping-your-outlines-compatible">just as you would in a Multiple Master setup</a>.</p>
<blockquote>
<p><strong>Pro tip:</strong> You can check compatibility with <em>View &gt; Show Master Compatibility</em> (Ctrl-Opt-Cmd-N), but as long as you do not have any instances defined (see step 4), Glyphs will tolerate outline incompatibility. In <em>File &gt; Font Info &gt; Font,</em> you can add a custom parameter called <em>Enforce Compatibility Check,</em> and Glyphs will connect masters even if there are no instances between them:</p>
<figure><img alt="" src="https://glyphsapp.com/media/pages/learn/creating-a-variable-font/7cf1977baa-1605628248/enforce_compatibility.png" width="500px"></figure>
</blockquote>

<h2 id="step-4-add-predefined-instances"><span class="Small">Step 4</span> Add Predefined Instances</h2>
<p>Even though our font is variable, and we have an endless amount of instances already, we can still pick some spots in the design space and define them as instances for the font submenu. In <em>File &gt; Font Info &gt; Instances,</em> add as many of those predefined instances as you like. Simply add new instances with the plus button in the lower left, or Option-drag an existing instance entry in the left sidebar to duplicate it.</p>
<figure><img alt="" src="https://glyphsapp.com/media/pages/learn/creating-a-variable-font/60fb8c117a-1605628248/newinstance.png"></figure>
<p>All you need to do in each instance is this:</p>
<figure class="shadow"><img alt="" src="https://glyphsapp.com/media/pages/learn/creating-a-variable-font/3e69cfceec-1605628248/fontinfo_instances.png" width="600px"></figure>
<ol>
<li>Set an appropriate <strong>Style Name</strong>: <em>Light, Regular, Medium, Semibold, Bold, Extrabold</em> in our example.</li>
<li>Pick a <strong>Weight and Width</strong> class from the pop-up menu right below the Style Name. What is important is that the numbers next to the menus are in the right order, because this is how Adobe sorts its font menus. In our example, all fonts have the same <em>Width</em> (Medium/normal, 5), but ascending <em>Weight</em> classes (from Light to Extrabold: 300, 400, 500, 600, 700, 800). For in-between instances, you can also add weightClass and widthClass parameters with in-between numbers. Read more about it in the <a href="/tutorials/naming">Naming</a> tutorial.</li>
<li>Pick a <strong>Style Linking</strong>. In the uprights, you leave these usually blank, only the Bold is the <em>Bold</em> of the <em>Regular.</em> And every italic is the <em>Italic</em> of its upright counterpart, e.g., Semibold Italic is the <em>Italic</em> of <em>Semibold.</em> Only the Italic instance is the <em>Italic</em> of <em>Regular,</em> and the Bold Italic is the <em>Bold and Italic</em> of <em>Regular.</em> Read more about it in the <a href="/tutorials/naming">Naming</a> tutorial.</li>
<li>Pick appropriate <strong>design space coordinates</strong> for each of your axes. Read more about the distribution of weights in the <a href="/tutorials/multiple-masters-part-3-setting-up-instances">Multiple Masters, part 3</a> tutorial.</li>
<li>And I hate to break it to you, but many <strong>Custom Parameters</strong> do not work in an OTVar instance, especially all post-processing ones, like filters. If you have any of those in your instance, they will be blissfully ignored by the software. Why? Because they jeopardize outline compatibility.</li>
</ol>

<h2 id="step-5-export-and-test-your-variable-font"><span class="Small">Step 5</span> Export and Test Your Variable Font</h2>
<p>Choose <em>File &gt; Export</em> and click on the <em>Variable Fonts</em> tab:</p>
<figure class="shadow"><img alt="" src="https://glyphsapp.com/media/pages/learn/creating-a-variable-font/ef74f1fada-1605628248/export-otvar.png" width="450px"></figure>
<p>If you have the latest Adobe Illustrator or Adobe Photoshop CC 2108, you can <a href="http://www.glyphsapp.com/tutorials/testing-your-fonts-in-adobe-apps">export into the Adobe Fonts folder</a>, choose the font in the Character panel, and open the little slider pop-up to experiment with the <em>Weight</em> axis:</p>
<figure><img alt="" src="https://glyphsapp.com/media/pages/learn/creating-a-variable-font/7f11f7e22b-1605628248/illustrator.gif" width="400px"></figure>
<p>Alternatively, you can drop the font file in one of the amazing web pages that allow you to test fonts. My favorites are Roel Niesken’s great <a href="https://wakamaifondue.com">Wakamai Fondue</a>, ABC Dinamo’s <a href="https://dinamodarkroom.com">Font Gauntlet</a> (which also lets you animate your variable font), and of course Laurence Penney’s <a href="https://www.axis-praxis.org">Axis Praxis</a> page:</p>
<figure><img alt="" src="https://glyphsapp.com/media/pages/learn/creating-a-variable-font/4334a74878-1605628248/axispraxis.gif"></figure>
<p>Or, you install the mekkablue scripts and run <em>Test &gt; Variable Font Test HTML,</em> which creates an HTML file next to the latest OTVar export, and opens the enclosing folder in Finder. So all you need to do is drag that into a browser:</p>
<figure><img alt="" src="https://glyphsapp.com/media/pages/learn/creating-a-variable-font/c8d45e3f38-1605628251/otvartest.gif" width="470px"></figure><blockquote>
<p><strong>Hint:</strong> As of this writing, your best guess as browser is the current <a href="https://www.google.com/chrome/browser/desktop/index.html">Chrome</a> or Safari, if you are running macOS High Sierra or later, or iOS 11 or later. Safari will not work on older OS versions. Firefox and Edge should work as well, but make sure you are running the very latest browser version.</p>
<p>If you do want to use a different or older browser, or test on an old OS version, take a look at the Axis Praxis blog: There, Laurence Penney explains <a href="http://www.axis-praxis.org/blog/2017-04-05/17/how-to-get-variable-fonts-working-in-safari-chrome-and-firefox-macos">where to download and how to set up the pre-release versions of all popular browsers</a>. More and more browsers are adding support for Variable Fonts, or already support them, but you need to enable something somewhere. Laurence explains it all in his post.</p>
</blockquote>

<h2 id="circumventing-bugs">Circumventing Bugs</h2>
<p>Adobe’s OTVar implementation is buggy. So, if the font does not interpolate properly in Illustrator or Photoshop, it may not be your font’s fault. Symptoms vary, but may include glyphs staying static and not reacting to slider position changes at all, or ugly small kinks appearing during slider movements, e.g., like this:</p>
<figure><img alt="" src="https://glyphsapp.com/media/pages/learn/creating-a-variable-font/681f87958c-1605628247/ai-glitch.png"></figure>
<p>If that happens, you can try to set different start points in your outlines. We found that this sometimes helps circumvent AI’s rendering bug. In any event, if you see that the same glitch does not appear in the web browsers, it’s not your font’s fault. And it is best to <a href="https://www.adobe.com/products/wishform.html">send your font file to Adobe support</a>, alongside an AI file containing a simple test case.</p>
<p>Another annoying implementation bug is sitting deep in Apple’s renderer CoreText. Offsets of components are miscalculated if the LSB is changing. Watch how the a behaves correctly, while the a-umlaut shifts more than it is supposed to do:</p>
<figure><img alt="" src="https://glyphsapp.com/media/pages/learn/creating-a-variable-font/c7d5cc3cb9-1605628249/neartatteredcondor-small.gif"></figure>
<p>This affects all environments that make use of CoreText rendering, which include pretty much all browsers on the Mac. In that case, the best you can do is make sure that all composites are decomposed when you export. Best way to do this: Add a <code>Decompose Components in Variable Font</code> parameter to <em>File &gt; Font Info &gt; Font &gt; Custom Parameters.</em> Needless to say, the resulting TTF will be much larger, and not fit for web use until Apple fixes the issue.</p>
<p><strike>We reported the bug to Apple, but if you have a good case in your hands, please <a href="https://bugreport.apple.com">let Apple know as well.</a></strike></p>
<blockquote>
<p><strong>Update:</strong> Apple fixed the problem. Make sure you have the latest dot update of macOS 10.13, or a new macOS.</p>
</blockquote>
<figure><img alt="" src="https://glyphsapp.com/media/pages/learn/creating-a-variable-font/73317cc3a2-1605628248/opsz-bug.gif"></figure>
<p>Another bug in Apple’s rendering: The <em>Optical Size</em> axis (<code>opsz</code>) is misinterpreted in Safari. At the minimum (leftmost) slider position, it shows the rendering for the maximum value. This only appears in Safari, not in other browsers. Again, <a href="https://bugreport.apple.com">please let Apple know.</a></p>
<p>Then, there is a rendering problem that is caused by the fact that variable fonts keep their overlaps. Not really a bug, but it may appear to your users as such. If the edge of a shape is drawn by two (partially) overlapping path segments, anti-aliasing will cause the edge to appear darker than the ‘clean’ edges that are drawn only by one outline:</p>
<figure><img alt="" src="https://glyphsapp.com/media/pages/learn/creating-a-variable-font/1db2eb35e3-1605628249/overlaps-before.png"></figure>
<p>The only solution for this is to rewire your outlines in such a way that the outer edge of your shape is always ‘clean’, i.e., drawn by only one path at any given spot. E.g. like this:</p>
<figure><img alt="" src="https://glyphsapp.com/media/pages/learn/creating-a-variable-font/46d3e39f31-1605628249/overlaps-after.png"></figure>
<p>In the very most cases, you will be able to fix this by removing overlaps and subsequently opening corners or reconnecting nodes. Both functions, <em>Open Corner</em> and <em>Reconnect Nodes</em> are available in the context menu of a respective point selection: individual corner nodes for opening corners, and <em>pairs</em> of corner nodes for reconnecting.</p>
<p>If you need these functions a lot, you may want to set a keyboard shortcut. For this very end, we added both to the <em>Paths &gt; Other</em> menu. Set the shortcuts in <em>System Preferences &gt; Keyboard &gt; Shortcuts &gt; App Shortcuts &gt; Glyphs.</em></p>
<blockquote>
<p><strong>Hint:</strong> the <a href="https://github.com/mekkablue/Glyphs-Scripts/">mekkablue script</a> <em>Paths &gt; Rewire Fire</em> helps you find nodes that need to be reconnected. It cannot find everything, but usually <em>most</em> of the cases that cause unclean edges like the ones shown above. What you want is the option that finds ‘nodes on top of line segments’:</p>
<figure class="shadow"><img alt="" src="https://glyphsapp.com/media/pages/learn/creating-a-variable-font/4842cffd06-1605628249/rewirefire.png"></figure>
</blockquote>

<h2 id="optional-add-a-virtual-master">Optional: Add a Virtual Master</h2>
<p>Imagine you need an axis which only applies to some glyphs. Let’s say, the crossbar height, which is applicable to letters like A, E, F, H, but not S, D, J, O, etc., and not to any non-letters, like figures, punctuation and symbols. It would not make sense to draw a new master for all the font, would it? Rather, you would introduce an extra master only for those glyphs that have a crossbar. Well, for cases like these, we have something called a <em>Virtual Master:</em></p>
<ol>
<li>In <em>File &gt; Font Info &gt; Font,</em> add a new axis to the Axes parameter. Since this is not one of the standard axes, names are arbitrary. In this example, I suggest the name <em>Crossbar Height</em> and the four-letter tag <em>CRSB:</em></li>
</ol>
<figure class="shadow"><img alt="" src="https://glyphsapp.com/media/pages/learn/creating-a-variable-font/ae397c2848-1605628248/newaxis.png"></figure>
<ol start="2">
<li>In the same window tab, add a parameter called <em>Virtual Masters,</em> and give it the value of the the Light master for the <em>Weight</em> axis, 50 in our example, and a minimum value for the <em>Crossbar Height,</em> let’s say zero:</li>
</ol>
<figure class="shadow"><img alt="" src="https://glyphsapp.com/media/pages/learn/creating-a-variable-font/acfd41e2b9-1605628249/virtualmaster.png"></figure>
<ol start="3">
<li>Go through all masters in <em>File &gt; Font Info &gt; Masters,</em> and make sure the axis coordinate for <em>Crossbar Height</em> is not zero but, e.g., 100. The idea is that the values make sense semantically somehow. In our case, zero represents the lowest possible crossbar position, and 100 the highest possible position.</li>
</ol>
<p>Now that the Virtual Master is set up, you can draw the low-crossbar version of each glyph that needs it:</p>
<ol>
<li>Open the glyph in Edit view.</li>
<li>In the <em>Layers</em> palette, duplicate the <em>Light</em> layer with the <em>Copy</em> button.</li>
<li>Rename the layer copy to <code>{50, 0}</code>, i.e., curly braces containing comma-separated design space coordinates for Weight (50 representing the Light master in our example) and Crossbar Height (0 representing the lowest crossbar position in our example).</li>
<li>Now change the drawing to what the letter should look like with Crossbar Height zero:</li>
</ol>
<figure><img alt="" src="https://glyphsapp.com/media/pages/learn/creating-a-variable-font/06c9c585ba-1605628248/lowcrossbar.png" width="500px"></figure>
<blockquote>
<p><strong>Note:</strong> Unless you want to do some fine-tuning, you will not need to add a Brace layer for the bold master. In Variable Fonts the deltas (point movements) of the two axes compliment each other and can be added up to form the bold with the low crossbar.</p>
</blockquote>
<p>That’s it. Now all you need to do is export, and try the font again in Illustrator, Axis Praxis or the Variable Font Test HTML script, et voilà: a second axis is available, for lowering the crossbar towards the baseline:</p>
<figure><img alt="" src="https://glyphsapp.com/media/pages/learn/creating-a-variable-font/cc7d72c734-1605628247/2nd_axis.png"></figure>
<p>Effectively, we have added a second dimension to our design space. If you do that, it is advisable to keep the masters in a <em>rectangular arrangement,</em> or even better yet in a vertical or horizontal offset in respect to the origin master. In our example, the Bold master is horizontally offset towards the Light master (difference in the first coordinate only), and the master with the low crossbar is vertically offset (difference in second coordinate only). This way you have the most control because you can reach any point within the design space rectangle by simply adding the vertical and horizontal deltas you created by arranging your masters as described.</p>

<h3 id="optional-add-a-virtual-master__optional-origin">Optional: Origin</h3>
<p>Only one set of outlines is stored in the font. Non-OTVar-capable software will only be able to display these ‘default outlines’. That default is usually your first master. You can pick a different default, though. To do so, go to <em>File &gt; Font Info &gt; Font</em> and add a custom parameter called <em>Variable Font Origin.</em> As its value, pick the name of a master:</p>
<figure><img alt="" src="https://glyphsapp.com/media/pages/learn/creating-a-variable-font/21b3f33130-1605628248/origin.png" width="500px"></figure>
<p>Yes, it must be a <em>master.</em> If you want any of your <em>instances</em> to be the origin, you would need to add the instance as an additional master: In <em>File &gt; Font Info &gt; Instances,</em> select the instance you want to define as your origin, open the Plus button in the lower left corner of the window, and pick <em>Instance as Master</em> from the pop-up menu that comes up. Now you have an additional master in <em>File &gt; Font Info &gt; Masters,</em> and you can set that as your <em>Variable Font Origin.</em></p>
<p>Two things to consider:</p>
<ol>
<li>
<p><strong>Default Appearance:</strong> One of the founding ideas behind variable fonts is that you can pick your <em>most used instance</em> as the default, typically the Regular. In Multiple Masters, you designed the extremes of the design space (i.e., your least used instances) and would interpolate everything in between. A variable font can go the opposite direction: it only stores the most important outlines, somewhere in the middle of the design space, and all other instances are derived from that one. So, for <em>desktop fonts,</em> pick the Regular as origin, or whatever the user will expect as the ‘default appearance’ of your font family. If all else fails, this is the weight the user will still be able to use.</p>
</li>
<li>
<p><strong>File Size:</strong> Picking a middle master will likely increase the number of your point deltas, and therefore, also increase the eventual file size. On a single-axis setup, it will likely double the number of deltas, if not more. In other words, for <em>webfonts,</em> it makes more sense to pick one of the masters <em>in an extreme end of the design space,</em> because you want to keep file sizes and load times down.</p>
</li>
</ol>

<h3 id="optional-add-a-virtual-master__optional-axis-location">Optional: Axis Location</h3>
<p>In <em>File &gt; Font Info &gt; Masters,</em> you can add a parameter called <em>Axis Location.</em> With it you can change the master’s coordinate on the axis. This makes sense if you need different values to be exposed to the users than the interpolation values entered in masters and instances.</p>
<figure><img alt="" src="https://glyphsapp.com/media/pages/learn/creating-a-variable-font/3d0993da87-1605628248/axislocation.png" width="500px"></figure>
<p>In our example, you could argue that a slider going from 50 to 200 may confuse the users of your font. Therefore you want all your sliders to go from 0 to 100, like a percentage. So you will add <em>Axis Location</em> parameters to both masters: Weight 0 for the Light Master, Weight 100 for the Bold Master.</p>
<blockquote>
<p><strong>Note:</strong> If you add <em>Axis Location</em> parameters, you are effectively changing the axes exported into your variable font. That means you also have to adapt the coordinates of the affected axis in the <em>Virtual Master</em> parameter, if you have one. However, do not change the numbers in Brace and Bracket layers, because those still adhere to the design space created by the original interpolation values.</p>
</blockquote>

<h2 id="limitations">Limitations</h2>
<p>Some things you may have gotten used to, do not work quite as you may expect them to in a variable font.</p>
<ol>
<li>I briefly mentioned above that all <strong>post-processing with custom parameters</strong> in <em>File &gt; Font Info &gt; Instances</em> is ignored because they are too likely to break outline compatibility or glyph set consistency. That includes filters and the Rename parameters.</li>
<li><strong>Corner components</strong> work unless they break outline compatibility. But they work differently: in variable fonts, they are applied <em>before</em> interpolation, whereas in a classic Multiple Master setup, they are inserted afterwards.</li>
<li>Both <strong>Brace and Bracket layers</strong> work, but not both within the same glyph. You can have glyphs with Brace layers and other glyphs with Bracket layers in your font, but not a glyph with both Bracket and Brace layers. Sorry about that, we’re working on it.</li>
<li><strong>Bracket</strong> layers do not translate into composites. There is a script solution for that though. See further below.</li>
</ol>

<h2 id="not-really-optional-stat-table">Not really optional: STAT Table</h2>
<p>In new fonts, including all Variable Fonts, naming info is stored in the STAT table. STAT is short for <em>Style Attributes,</em> and includes, among other things, information about axes, instances, and something called the <em>display strings,</em> or <em>name strings:</em> These are names for sections on an axis. E.g. a weight axis may be sectioned into Light, Regular, Medium, Semibold, Bold; a width axis into Condensed, Regular, Extended.</p>
<p>The idea behind this is that an application can name a user’s current instance, no matter what his or her slider settings are. Effectively, in a multiple-axis setup, you get n-dimensional fields of possible names. E.g., if your font has a weight and a width axis, you get columns of weights, and rows of widths, like in the table below. And in order to name the combination of a weight in the Bold section with a width in the Condensed section, an application can simply combine the display strings, and ta-daaa, we have ‘Bold Condensed’:</p>
<figure><img alt="" src="https://glyphsapp.com/media/pages/learn/creating-a-variable-font/548c57f6cd-1605628249/STAT_Table.svg"></figure>
<p>A display string is deemed <em>elidable</em> if it is left out when combined with other display strings. Usually this is the case for default-style names like ‘Regular’, ‘Normal’, or the like. The semibold weight combined with regular width is usually just called ‘Semibold’, not ‘Semibold Regular’; or the normal weight in combination with the italic style is simply called ‘Italic’, not ‘Regular Italic’. Thus, the display name ‘Regular’ is considered elidable.</p>
<p>Usually, Glyphs takes care of this pretty smartly by analysing the names of your predefined instances. If however, you find that in the STAT table entries, the display strings are not properly stored in the file, you can take control with these two parameters in <em>File &gt; Font Info &gt; Instances:</em></p>
<ul>
<li>
<p><strong>Style Name as STAT entry:</strong> Takes the instance style name as combinable display string for an axis range. As value, use the four-letter axis tag to which the display string applies. Use this only in instances that are non-normal on one axis and normal on all others. That is because the normal attributes have elidable names and do not appear in the style name (e.g., ‘Semibold’ or ‘Condensed’). <em>Example:</em> In the Light instance, use this parameter with the value <em>wght,</em> because Light is a value on the weight axis.</p>
</li>
<li>
<p><strong>Elidable STAT Axis Value Name:</strong> Declares the instance style name as elidable for the axis specified in the parameter value. As value, use the four-letter tag of the respective axis. Typically, you will add this parameter in the regular style, and you will add one for each axis for which the name is an elidable display string. <em>Example:</em> An instance called <em>Regular</em> has two <em>Elidable…</em> parameters, one with <em>wght</em> and one with <em>wdth</em> as parameter values.</p>
</li>
</ul>
<blockquote>
<p><strong>Pro tip:</strong> The STAT table is becoming increasingly important. In the not-so-distant future, many applications will require one for the font to load in the first place. Don’t ask me where I have picked it up, but let me tell you that if you want to ship (or keep shipping) fonts for Windows, you want to equip all your fonts with STAT. <strong>Hint, hint:</strong> This will include the Italic (<code>ital</code>) axis for differentiating between Uprights (value 0) and Italics (value 1).</p>
</blockquote>

<h2 id="axis-mappings">Axis Mappings</h2>
<p>One more thing about axes. Obviously, axes start somewhere and end somewhere. In a user interface, the beginning and end of an axis can be (and usually are) represented by the leftmost and rightmost positions on a slider. Everything in between, of course, is spread out evenly between these extremes. In other words, in order to display 25% of the interpolation, you put the slider at the quarter position, for 50% of the interpolation, you put it exactly in the middle, and so on. Makes sense, doesn’t it.</p>
<p>Wait a minute. Does it really? Giving it more thought, it really only makes sense if the instances that the user should be able to access are also spread out (more or less) <em>evenly</em> across the <em>complete</em> slider range. For the sake of the argument, let’s imagine a situation where the important positions are crammed in a small part of the slider range, and a large part of the slider is not doing much for the user.</p>
<p>This actually happens to be the case for the <em>Weight</em> axis (axis tag <code>wght</code>). In (almost all) weight interpolations, the various weight styles are not distributed evenly. Depending how thin the lightest master is and how fat the boldest, you will have more styles grouped together at different ‘focal points’ along the axis. For instance, interpolating from <em>very thin</em> to a ‘normal’, <em>not-too-extreme bold</em> will have styles concentrated towards the light end of the slider:</p>
<figure><img alt="" src="https://glyphsapp.com/media/pages/learn/creating-a-variable-font/c39fe8015d-1605628247/axis-distribution2.png"></figure>
<p>Why? Because in principle, equidistant movements of the slider correspond to the same changes in units, no matter <em>where</em> on the slider you make the movement. E.g., a certain back-and-forth here changes the design by 10 units, and the same back-and-forth there also changes by 10 units. However, adding 10 units to the stem thickness is a <em>lot</em> for a Hairline, which has only a few units to start with. But the exact same amount is practically <em>negligible</em> for a Medium or Semibold, because in comparison to the stem thickness, it is just a small change.</p>
<p>It is the other way around, if you go from a not-too-extreme Light or Book or Regular on one end towards a very bold Ultra Heavy on the other end of the slider. Now, the styles gather at the bold end of the spectrum:</p>
<figure><img alt="" src="https://glyphsapp.com/media/pages/learn/creating-a-variable-font/e37b072f5f-1605628247/axis-distribution3.png"></figure>
<p>How is that possible? Well, actually it is the reverse situation to the above, because what changes this time is the <em>white</em> in the letters. For a <em>very, very</em> heavy design, adding or removing 10 units to the white is <em>a lot</em> because there is so little white left. Yet, in the ‘normal’ range of weights between the average Book and Semibold designs, we still have the same situation: the styles are further apart.</p>
<p>Putting one and one together, it is now clear that interpolating from <em>very thin</em> to <em>very bold</em> usually has style concentrations towards both ends of the spectrum:</p>
<figure><img alt="" src="https://glyphsapp.com/media/pages/learn/creating-a-variable-font/f69cb8c066-1605628247/axis-distribution1.png"></figure>
<p>But on the other hand, the users do not care about our distribution problems, do they? For the users, accessing the different styles works best if they are distributed evenly across the axis, like this:</p>
<figure><img alt="" src="https://glyphsapp.com/media/pages/learn/creating-a-variable-font/87ebae4ef4-1605628247/axis-distribution4.png"></figure>
<p>In other words, we need to somehow translate the evenly distributed <em>user-accessible</em> positions to the appropriately distributed <em>design</em> positions, like this:</p>
<figure><img alt="" src="https://glyphsapp.com/media/pages/learn/creating-a-variable-font/f4d9fd4bb0-1605628247/axis-distribution5.png"></figure>
<p>This is called an <em>axis mapping.</em> We map what the user <em>sees</em> on the axis, to what the user actually <em>gets</em> on the axis. And we can achieve such a mapping with an <em>Axis Mappings</em> parameter in <em>File &gt; Font Info &gt; Font &gt; Custom Parameters.</em> But how do we set it up? Easy:</p>
<ol>
<li>Determine the extremes on your Weight axis, i.e., the positions of your lightest and boldest masters. For example, we have a project with a Light Master at 50 and a Bold Master at 200.</li>
<li>Determine the number of instances across the Weight axis. In our example, let’s say we have six instances: Light, Regular, Medium, Semibold, Bold, Extrabold.</li>
<li>Calculate the gap size between styles: divide the difference between extremes by the number of styles minus one. E.g: (200−50)÷(6−1)=30. (Minus one because between six styles, there are five gaps.)</li>
<li>Calculate the evenly distributed user-accessible slider positions by starting a the lightest, and repeatedly adding the gap until we hit the boldest. E.g., Light=50, Regular=80, Medium=110, Semibold=140, Bold=170, Extrabold=200.</li>
<li>Now add an <em>Axis Mappings</em> parameter in <em>File &gt; Font Info &gt; Font &gt; Custom Parameters</em> and edit its values:</li>
</ol>
<ul>
<li>Choose the <em>Weight</em> axis in the left column, and add six mapping pairs with the plus button, one for each style.</li>
<li>In the left column, put in the evenly distributed user-accessible slider positions we calculated above.</li>
<li>In the right column, add the appropriately distributed design positions, or in other words, the actual <em>Weight</em> interpolation values from <em>File &gt; Font Info &gt; Instances.</em></li>
</ul>
<p>If you have done everything right, you end up with something like this:</p>
<figure class="shadow"><img alt="" src="https://glyphsapp.com/media/pages/learn/creating-a-variable-font/46f1106735-1605628247/axis-mapping-parameter.png"></figure>
<blockquote>
<p><strong>Tip:</strong> Make sure you map the extremes to themselves. If you do not have styles positioned at the outermost extremes (in our case, Light at 50 and Extrabold at 200), add mappings there anyway, with the <em>same values in both columns.</em></p>
</blockquote>
<p>You can also switch the parameter to a visual display and fine-tune the axis mapping. Add additional mapping points by clicking on the lines between the dots. Select a dot to edit its coordinates at the bottom: user-accessible number on the left, actual design value on the right. Drag an existing dot up and down to change the design value.</p>
<figure class="shadow"><img alt="" src="https://glyphsapp.com/media/pages/learn/creating-a-variable-font/2409646d6e-1605628248/axis-mapping-visual.png"></figure>
<p>Technically, what this does is create a so-called <a href="https://docs.microsoft.com/en-us/typography/opentype/spec/avar">Axis Variations table</a> a.k.a. <code>avar</code>. It ‘variates’ the axis.</p>
<p><strong>Pro tip:</strong> The specification stipulates that the weight axis values should conform to the <em>usWeightClass</em> list of values, i.e. 100=Hairline, 200=Thin, 300=Light, 400=Regular, 500=Medium, 600=Semibold, 700=Bold, 800=Extrabold, 900=Heavy. To achieve that, all you have to do is correlate your master positions to these values, and use those values for the <em>Axis Location</em> parameter in <em>File &gt; Font Info &gt; Masters.</em> In our example, we would add an Axis Location parameter for the Light Master with Weight=300 (because it correlates to the Light instance), and one for the Bold Master with Weight=800 (because it correlates to the Extrabold instance).</p>
<p>Usually, axis mappings will only create subtle changes to the way your font behaves when you drag the slider from one end to the other. So, it will be hard to verify if everything worked out the way you intended it to be. Therefore we need a special tool to inspect the <code>avar</code> table. Luckily, <a href="https://www.axis-praxis.org/samsa/">Laurence Penney’s Samsa</a> is such a tool: drag the font onto the page, and in the <em>Axes</em> inspector, turn on the <em>Show avar</em> option:</p>
<figure class="shadow"><img alt="" src="https://glyphsapp.com/media/pages/learn/creating-a-variable-font/c7602a05ec-1605628249/samsa-avar.png"></figure>
<p>And then drag the slider to see the green arrow that indicates how the visible slider position (top) maps to the actual design distribution (bottom). You can get geeky extra information if you hover over the visualisation and wait for the tooltip to pop up:</p>
<figure class="shadow"><img alt="" src="https://glyphsapp.com/media/pages/learn/creating-a-variable-font/ad92920b18-1605628249/samsa-tooltip.png"></figure>
<p>To explain, the <code>avar</code> values go between −1.0, 0.0 and +1.0. Glyphs will usually put your interpolation between 0.0 and +1.0. In other words, in <code>avar</code>, your light master will correspond to 0.0, and your bold master to +1.0. For instance, the tooltip pictured above says that the current slider position 550.4 (at 0.562988... or 56.3%) to the actual design position 540.38 (at 0.550476… or 55%), halfway between Medium (500) and Semibold (600).</p>

<h2 id="useful-scripts">便利なスクリプト</h2>
<p><a href="https://github.com/mekkablue/Glyphs-Scripts/">mekkablueのスクリプト集</a>（リンク先readmeにインストール手順あり）には、バリアブルフォントを動作させるのに便利なスクリプトがいくつかあります。</p>
<ol>
<li><strong>Interpolation ＞ Composite Variabler：</strong>コンポーネントの<a href="https://glyphsapp.com/tutorials/alternating-glyph-shapes">ブラケットレイヤー</a>を、それが使われているコンポーネントグリフの中で再複製します。またブレースレイヤーをコンポーネントグリフで動作させます。例えば、ブレースレイヤーを持つ小文字の <code>g</code> の場合、ウェイトが太くなるにつれ二階建てから一階建てに切り替わるので、<code>gcircumflex</code> 、<code>gcommaaccent</code> 、<code>gbreve</code> のコンポーネントグリフ中でブラケットレイヤーを再複製する必要があります。さらにスクリプトを実行した後でブラケットレイヤーを分解する必要があります。</li>
</ol>
<figure class="shadow"><img alt="" src="https://glyphsapp.com/media/pages/learn/creating-a-variable-font/b83a70f895-1605628248/mekkablue-compound-variabler.png"></figure>
<blockquote>
<p><strong>アップデート情報：</strong>コンポーネントグリフで<a href="https://glyphsapp.com/tutorials/additional-masters-for-individual-glyphs-the-brace-trick">「ブレース」レイヤー</a>は問題ではありません。</p>
</blockquote>
<ol start="2">
<li><strong>Kerning ＞ Zero Kerner：</strong>他のマスターには存在するのにあるマスターで欠落しているカーニングペアに対し、値が0のグループカーニングを追加します。OTVar出力で補間可能なカーニングを保持するのに便利です。カーニングの欠落、特にいくつかのマスターにだけあるカーニングペアを見つけた場合に使います。</li>
</ol>
<figure class="shadow"><img alt="" src="https://glyphsapp.com/media/pages/learn/creating-a-variable-font/a733c89468-1605628248/mekkablue-zero-kerner.png"></figure>
<blockquote>
<p><strong>アップデート情報：</strong>Glyphs 2.6.5（ビルド1300以上）では、Zero Kernerは必要なくなりました。</p>
</blockquote>

<h3 id="useful-scripts__additional-resources">その他のリソース</h3>
<p>バリアブルフォントについてもっと深く知りたいですか？ そのためのリンクをいくつか用意しました。</p>
<ul>
<li>マイクロソフト社：<a href="https://docs.microsoft.com/en-us/typography/opentype/spec/">OpenType仕様</a></li>
<li>Tom Rickner：裏話「<a href="https://www.monotype.com/resources/articles/part-1-from-truetype-gx-to-variable-fonts/">from TrueType GX to Variable Fonts</a>」</li>
<li>Irene Vlachou：要点ガイド「<a href="https://github.com/irenevl/variable-fonts-with-feature-variations">Building variable fonts with Feature Variations</a>」</li>
<li>Roel Niesken：<a href="https://wakamaifondue.com">Wakamai Fondue</a>（「What can my font do?」）</li>
<li>ABC Dinamo：<a href="https://dinamodarkroom.com">Font Gauntlet</a></li>
<li>Laurence Penney：<a href="https://www.axis-praxis.org">Axis Praxis</a></li>
<li>Laurence Penney：<a href="https://www.axis-praxis.org/samsa/">Samsa</a> バリアブルフォント解析ツール（<a href="https://github.com/Lorp/samsa">GitHub上のソースコード</a>）</li>
<li>the Nübel brothers：<a href="https://fontdrop.info">Font Drop</a></li>
<li>Travis Kochel：<a href="https://github.com/scribbletone/i-can-variable-font">I Can Variable Font  (Notes on generating variable fonts)</a></li>
<li>Andrey Kuzmin：<a href="https://github.com/w0rm/elm-font-dimensions">Font Dimensions</a> バリアブルフォント次元可視化ツール</li>
<li>Underware：<a href="http://very-able-fonts.com">Very Able Fonts</a> 楽しいショーケースとコンセプトページ</li>
<li>Nick Sherman：<a href="https://v-fonts.com/">V-Fonts, a simple resource for finding and trying variable fonts</a> 公開中のバリアブルフォントリスト（順次追加）</li>
<li>Christoph Koeberlin：<a href="https://typefacts.com/links/variable-fonts">variable fonts</a> 有用なリソースへのリンク集（一部ドイツ語ですが、引かないでください）</li>
</ul>
<!--
## Animation
* [Muybridge Horse animation](http://www.axis-praxis.org/playground/horse/) by Laurence Penney
* https://etc.supply/animating-a-variable-font-with-css/
* Laurence Penney: [Variable Fonts Experiments]( https://codepen.io/collection/XqRLMb/), a collection of experiments with variable font text effects
Codepen
There are scripts available in the [mekkablue script repository](http://github.com/mekkablue/Glyphs-Scripts) that may make sense to you if you are planning to implement animations in an OTVar font:
* *Masters > OTVar Player*
* *Masters > Insert Brace Layers for Rotating Components*
* *Masters > Insert Brace Layers for Movement Along Background Path*
-->
<p><small><br />
STAT table サンプルフォント：Plantago 、Viktor Solt-Bittner氏、Schriftlabor氏<br />
Many thanks to Rob McKaughan for his commentary and advice on this tutorial.</p>
<p>Update 2018-03-16: 誤記訂正（Jeff Kellemさんありがとう）。<br />
Update 2018-06-22: 例示の値の表現を明確化（Karlさんありがとう）。<br />
Update 2018-11-20: Updated naming of <em>Variable Font Origin</em> parameter.<br />
Update 2019-02-15: Added links for Font Gauntlet and Wakamai Fondue. Updated test script and browser support info. Added <em>Circumventing Bugs</em>.<br />
Update 2019-03-13: Added <em>Additional resources.</em><br />
Update 2019-03-04: Corrected typos and replaced <em>Variation Fonts</em> by <em>Variable Fonts</em> of the Export window (thx Nathalie Dumont).<br />
Update 2019-03-20: Corrected typos, replaced <em>Add Instance as Master</em> for <em>Instance as Master,</em> and modified link to Nick Sherman's V-Fonts (thx Nathalie Dumont).<br />
Update 2019-10-23: Added Useful Scripts.<br />
Update 2019-12-04: Added section about the anti-aliasing problem.<br />
Update 2020-03-08: Added paragraph about Safari opsz bug, the hint about the <em>Rewire Fire</em> script, and Samsa to the resources.<br />
Update 2020-06-14: Added <em>Axis Mappings</em> chapter, updated <em>Useful scripts,</em> added a GIF for the Safari opsz bug.<br />
Update 2020-07-09: Minor change of phrase in the paragraph about the <em>Rewire Fire</em> script.<br />
</small></p>          </div>
</body>
</html>
